(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-details"],{"551a":function(e,t,r){"use strict";var s=r("cf1e"),a=r.n(s);a.a},"7c87":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"app-form",attrs:{id:"form-user",novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("div",{staticClass:"form-field id-code"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.idCode,expression:"user.idCode"}],attrs:{"aria-label":e.$t("id"),type:"text",placeholder:e.$t("id")},domProps:{value:e.user.idCode},on:{blur:e.onBlur,input:function(t){t.target.composing||e.$set(e.user,"idCode",t.target.value)}}}),r("div",{staticClass:"form-field-errors"})]),r("div",{staticClass:"form-field first-name"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"}],attrs:{"aria-label":e.$t("firstName"),type:"text",placeholder:e.$t("firstName")},domProps:{value:e.user.firstName},on:{blur:e.onBlur,input:function(t){t.target.composing||e.$set(e.user,"firstName",t.target.value)}}}),r("div",{staticClass:"form-field-errors"})]),r("div",{staticClass:"form-field last-name"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"}],attrs:{"aria-label":e.$t("lastName"),type:"text",placeholder:e.$t("lastName")},domProps:{value:e.user.lastName},on:{blur:e.onBlur,input:function(t){t.target.composing||e.$set(e.user,"lastName",t.target.value)}}}),r("div",{staticClass:"form-field-errors"})]),r("div",{staticClass:"form-field email"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{"aria-label":e.$t("email"),type:"text",placeholder:e.$t("email")},domProps:{value:e.user.email},on:{blur:e.onBlur,input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),r("div",{staticClass:"form-field-errors"})]),r("button",{staticClass:"app-btn black submit",attrs:{type:"submit"}},[e.isNew?r("span",{staticClass:"text"},[e._v(e._s(e.$t("addUser")))]):e._e(),e.isNew?e._e():r("span",{staticClass:"text"},[e._v(e._s(e.$t("saveChanges")))])])])},a=[],i=(r("96cf"),r("3040")),n=r("c665"),o=r("dc0a"),l=r("aa9a"),u=r("d328"),m=r("11d9"),d=r("1083"),c=r("9ab4"),f=r("60a3"),h=r("07b9"),p={"first-name":{required:"Please complete this mandatory field.",maxLength:"Name should contain less than 255 symbols",pattern:"Symbols '<' and '>' are not allowed"},"last-name":{required:"Please complete this mandatory field.",maxLength:"Name should contain less than 255 symbols",pattern:"Symbols '<' and '>' are not allowed"},email:{required:"Please complete this mandatory field.",pattern:"Email is not valid."},"id-code":{required:"Please complete this mandatory field.",pattern:"Please provide 7 digits"}},v={notCode:/^[^<>]+$/,validName:/^([a-zA-Z\ ]{1,250})$/,id:/^([0-9]{7})$/,email:/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/},b=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(u["a"])(this,Object(m["a"])(t).call(this)),e.user={id:0,idCode:"",firstName:"",lastName:"",email:""},e.isNew=!0,e.isErrorInField=!1,e.isSubmitting=!1,e.wasSubmit=!1,e.form={},e.querySelectors=e.querySelectors.bind(Object(d["a"])(Object(d["a"])(e))),e.onSubmit=e.onSubmit.bind(Object(d["a"])(Object(d["a"])(e))),e.onBlur=e.onBlur.bind(Object(d["a"])(Object(d["a"])(e))),e}return Object(l["a"])(t,[{key:"setData",value:function(e){this.isNew=null==e,this.isNew||(this.user=e),this.$queue.add(this.querySelectors)}},{key:"querySelectors",value:function(){this.formElem=document.getElementById("form-user");var e=["id-code","first-name","last-name","email"],t=e.length;while(t--)this.form[e[t]]={node:this.formElem.querySelector("."+e[t])||{},errors:this.formElem.querySelector("."+e[t]+" .form-field-errors")}}},{key:"onBlur",value:function(){this.wasSubmit&&this.checkErrors()}},{key:"onSubmit",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isSubmitting){e.next=2;break}return e.abrupt("return");case 2:if(this.wasSubmit=!0,this.isErrorInField=!1,this.checkErrors(),!this.isErrorInField){e.next=7;break}return e.abrupt("return");case 7:if(this.isSubmitting=!0,!this.isNew){e.next=13;break}return e.next=11,h["a"].addUser(this.user);case 11:e.next=15;break;case 13:return e.next=15,h["a"].updateUser(this.user);case 15:this.$router.push({path:"/"}),this.isSubmitting=!1;case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setError",value:function(e,t){this.isErrorInField=!0;var r=this.form[e];r.errors.innerHTML=p[e][t],r.node.classList.add("error")}},{key:"checkErrors",value:function(){var e=this.user.idCode,t=this.form["id-code"].node.classList||{};e.length?v.id.test(e)?t.remove("error"):this.setError("id-code","pattern"):this.setError("id-code","required"),e=this.user.firstName,t=this.form["first-name"].node.classList||{},e.length?e.length>255?this.setError("first-name","maxLength"):v.notCode.test(e)?t.remove("error"):this.setError("first-name","pattern"):this.setError("first-name","required"),e=this.user.lastName,t=this.form["last-name"].node.classList||{},e.length?e.length>255?this.setError("last-name","maxLength"):v.notCode.test(e)?t.remove("error"):this.setError("last-name","pattern"):this.setError("last-name","required"),e=this.user.email,t=this.form.email.node.classList||{},e.length?v.email.test(e)?t.remove("error"):this.setError("email","pattern"):this.setError("email","required")}}]),Object(o["a"])(t,e),t}(f["c"]);b=c["a"]([Object(f["a"])({beforeRouteEnter:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,r,s){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.params.id||s(function(e){return e.setData(null)}),e.next=3,h["a"].getUserDetails(+t.params.id);case 3:a=e.sent,s(function(e){return e.setData(a)});case 5:case"end":return e.stop()}},e,this)}));return function(t,r,s){return e.apply(this,arguments)}}()})],b);var g=b,N=g,w=(r("551a"),r("2877")),y=Object(w["a"])(N,s,a,!1,null,"4d1be854",null);y.options.__file="UserDetails.vue";t["default"]=y.exports},cf1e:function(e,t,r){}}]);
//# sourceMappingURL=user-details.c62f5f2f.js.map